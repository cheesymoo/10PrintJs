<!doctype html>

<html lang="en">
    <head>
        <title>10 Print Chr$</title>
        <script type="text/javascript">
        window.onload = function() {
            var terminal = document.getElementById("terminal"); 
            var audioCtx = new (window.AudioContext || window.webkitAudioContext)();
            var osc = audioCtx.createOscillator();
            var fund = 66.6;
            osc.type = 'triangle';
            osc.frequency.value = fund;
            osc.connect(audioCtx.destination);
            osc.start();

            var rampUp = function() {
            }

            var print = function() {
                var sign = Math.random() > 0.5 ? "/" : "\\";
                terminal.innerHTML += sign;

                if (terminal.innerHTML.length >= 1000) {
                    terminal.innerHTML = terminal.innerHTML.slice(40);
                }

                if ( sign === "/") {
                    for (var i = 1; i < 7; i++) {
                        window.setTimeout(stepUp(), 2.5*i);
                    }
                } else {
                    for (var i = 1; i < 7; i++) {
                        window.setTimeout(stepDown(), 2.5*i);
                    }
                }

            }

            var stepUp = function() {
                osc.frequency.value += (1/6)*fund;
            }
            var stepDown = function() {
                osc.frequency.value -= (1/6)*fund;
            }
            var timer = setInterval(print, 15);
        }

        </script>
        <style>

        @font-face {
            font-family: "C64 User";
            src: url(fonts/C64_User_v1.0-STYLE.ttf);
        }

        body {
            background-color: rgb(129, 113, 167);
        }

        div {
            background-color: rgb(76, 54, 167);
            color: rgb(129, 113, 167);
            font-style: normal;
            font-size:  18pt;
            line-height: 18px;
            letter-spacing: -5px;
            height: 450px;
            margin-top: 50px;
            margin-left: auto;
            margin-right: auto;
            font-family: "C64 User";
            overflow-wrap: break-word;
            width: 760px;
        }

        </style>
    </head>
    <body>
        <div id="terminal">
        </div>
    </body>
</html>
